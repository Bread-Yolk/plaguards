<!-- {% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plaguards</title>
    <link rel="icon" href="{% static 'assets/1.0.png' %}" type="image/png" />
    <link rel="stylesheet" href="{% static 'css/style2.css' %}" />
    <link rel="stylesheet" href="{% static 'css/style-upload.css' %}" />
    <script src="{% static 'js/script.js' %}"></script>
    <script src="{% static 'js/script-upload.js' %}"></script>
    <link rel="stylesheet" href="https://unpkg.com/scrollreveal" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" />
    
    <style>
      .notification {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 15px;
        border-radius: 5px;
        display: none;
        z-index: 1000;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .notification.show {
        display: block;
      }

      .notification.error {
        background-color: #f44336;
        color: white;
      }

      .notification.success {
        background-color: #4caf50;
        color: white;
      }
    </style>
  </head>
  <body>
    <nav>
      <div class="nav__header">
        <div class="nav__logo">
          <a href="{% url 'index' %}">
            <img src="{% static 'assets/1.0.png' %}" alt="logo" />
            <span>Plaguards</span>
          </a>
        </div>
        <div class="nav__menu__btn" id="menu-btn">
          <i class="ri-menu-line"></i>
        </div>
      </div>
      <ul class="nav__links" id="nav-links">
        <li><a href="{% url 'index' %}">Home</a></li>
        <li><a href="{% url 'tools' %}">Tools</a></li>
        <li><a href="{% url 'tutorial' %}">Tutorial</a></li>
        <li><a href="{% url 'about' %}">About us</a></li>
      </ul>
    </nav>

    <div id="notification" class="notification"></div>

    <div class="content__container">
      <p>Upload IOC to check summary</p>
      <div class="search-container">
        <form id="search-form" method="POST" action="{% url 'search' %}">
          {% csrf_token %}
          <div class="search-wrapper">
            <i class="ri-search-line search-icon"></i>
            <input type="text" name="search-bar" id="search-bar" placeholder="Search (ex: hash | ip | domain | url | signature <value>)" class="search-bar" />
            <button type="submit" class="search-button">
              <i class="ri-arrow-right-line"></i>
            </button>
          </div>
        </form>
      </div>

      <br />

      <p>Upload file to deobfuscate (.ps1)</p>
      <form id="file-upload-form" method="POST" enctype="multipart/form-data" action="{% url 'file_upload' %}">
        <div class="upload-content">
            {% csrf_token %}
            <label class="upload-section" id="drop-zone">
              <input type="file" id="upload-file" name="file" hidden />
              <div id="file-view">
                <i class="ri-upload-2-line"></i>
                <p id="file-name">Drag and Drop or Click Here to Upload File</p>
              </div>
            </label>
        </div>
        <br>
          <button class="upload-button" type="submit">
            <span>Upload File</span>
          </button>
      </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      function showNotification(message, type) {
        var notification = $("#notification");
        notification.text(message);
        notification.removeClass("error success").addClass(type);
        notification.addClass("show");
        setTimeout(function () {
          notification.removeClass("show");
        }, 3000); // Hide after 3 seconds
      }

      $(document).ready(function () {
        
        // Search Form Submission
        $("#search-form").on("submit", function (e) {
          e.preventDefault();
          $.ajax({
            url: $(this).attr("action"),
            type: "POST",
            data: $(this).serialize(),
            dataType: "json",
            success: function (response) {
              if (response.status === "success") {
                showNotification(response.message, "success");
                window.location.href = "/redirect_result?pdf_url=" + encodeURIComponent(response.pdf_url);
              } else {
                showNotification(response.message, "error");
              }
            },
            error: function () {
              showNotification("An error occurred. Please try again.", "error");
            },
          });
        });

        // Capture file selection and display file name
        $("#upload-file").on("change", function () {
          var file = this.files[0];
          if (file) {
            $("#file-name").text(file.name);
          } else {
            $("#file-name").text("Drag and Drop or Click Here to Upload File");
          }
        });

        // File Upload Form Submission
        $("#file-upload-form").on("submit", function (e) {
          e.preventDefault();
          var formData = new FormData(this);

          $.ajax({
            url: $(this).attr("action"),
            type: "POST",
            data: formData,
            processData: false,
            contentType: false,
            dataType: "json",
            success: function (response) {
              if (response.status === "success") {
                showNotification(response.message, "success");
                window.location.href = "/redirect_result?pdf_url=" + encodeURIComponent(response.pdf_url);
              } else {
                showNotification(response.message, "error");
              }
            },
            error: function () {
              showNotification("An error occurred. Please try again.", "error");
            },
          });
        });
      });
    </script>
  </body>
</html> -->

<!--  -->
<!--  -->
<!--  -->

{% load static %}
{% load bootstrap5 %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plaguards</title>
    <link rel="icon" href="{% static 'assets/1.0.png' %}" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/custom-styles.css' %}">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <!-- <link rel="stylesheet" href="{% static 'css/loading-spinner.css' %}"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css">
  </head>
  <body>
    <!-- Loading Spinner and Overlay -->
    <!-- <div id="loading-overlay">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div> -->

    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="{% url 'index' %}">
          <img src="{% static 'assets/1.0.png' %}" alt="logo" />
          <span>Plaguards</span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="{% url 'index' %}">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'tools' %}">Tools</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'tutorial' %}">Tutorial</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">About us</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div id="notification" class="position-fixed bottom-0 end-0 p-3" style="z-index: 11"></div>

    <div class="container mt-5 pt-5">
      <p>Upload IOC to check summary</p>
      <form id="search-form" method="POST" action="{% url 'search' %}" class="input-group mb-3">
        {% csrf_token %}
        <span class="input-group-text"><i class="ri-search-line"></i></span>
        <input type="text" class="form-control" name="search-bar" placeholder="Search (ex: hash | ip | domain | url | signature <value>)">
        <button type="submit" class="btn btn-primary"><i class="ri-arrow-right-line"></i></button>
      </form>
      <br> <br>
      <p>Upload file to deobfuscate (.ps1)</p>
      <form id="file-upload-form" method="POST" enctype="multipart/form-data" action="{% url 'file_upload' %}">
        {% csrf_token %}
        <div class="mb-3">
          <label for="upload-file" class="form-label">Choose file</label>
          <input type="file" class="form-control" id="upload-file" name="file">
        </div>
        <button class="btn btn-primary w-100" type="submit">Upload File</button>
      </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/custom-scripts.js' %}"></script>
    <script src="{% static 'js/script.js' %}"></script>
    <script src="https://unpkg.com/scrollreveal"></script>
    <!-- <script src="{% static 'js/loading-spinner.js' %}"></script> -->

    {% bootstrap_javascript %}

  </body>
</html>


<!--  -->
<!--  -->
<!--  -->

<!-- {% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plaguards</title>
    <link rel="icon" href="{% static 'assets/1.0.png' %}" type="image/png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="{% static 'css/style2.css' %}" />
    <link rel="stylesheet" href="{% static 'css/style-upload.css' %}" />
    <script src="{% static 'js/script.js' %}"></script>
    <script src="{% static 'js/script-upload.js' %}"></script>
    <link rel="stylesheet" href="https://unpkg.com/scrollreveal" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" />

    <style>
      /* Preserve the styles and colors from your CSS */
      body {
        font-family: 'Poppins', sans-serif;
        background-color: #212429;
        color: white;
      }
      .navbar {
        background-color: #ff0147;
      }
      .navbar-brand, .navbar-nav .nav-link {
        color: white !important;
        font-weight: 500;
      }
      .navbar-toggler {
        border: none;
      }
      .navbar-nav .nav-link:hover {
        color: #212429 !important;
      }
      .notification {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 15px;
        border-radius: 5px;
        display: none;
        z-index: 1000;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .notification.show {
        display: block;
      }
      .notification.error {
        background-color: #f44336;
      }
      .notification.success {
        background-color: #4caf50;
      }
      .search-wrapper {
        background-color: white;
        padding: 0.5rem;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .upload-button {
        background-color: #2e6de1;
        color: white;
        border: none;
        padding: 12px;
        border-radius: 6px;
        font-weight: 600;
      }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark">
  <div class="container">
    <a class="navbar-brand" href="{% url 'index' %}">
      <img src="{% static 'assets/1.0.png' %}" alt="logo" class="me-2" style="max-width: 36px;">
      Plaguards
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <i class="ri-menu-line text-white"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="{% url 'index' %}">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'tools' %}">Tools</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'tutorial' %}">Tutorial</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">About us</a></li>
      </ul>
    </div>
  </div>
</nav>

<div id="notification" class="notification"></div>

<div class="container mt-5">
  <div class="content__container">
    <p>Upload IOC to check summary</p>
    <div class="search-container mb-3">
      <form id="search-form" method="POST" action="{% url 'search' %}">
        {% csrf_token %}
        <div class="search-wrapper">
          <i class="ri-search-line search-icon"></i>
          <input type="text" name="search-bar" id="search-bar" placeholder="Search (ex: hash | ip | domain | url | signature <value>)" class="form-control border-0 shadow-none" />
          <button type="submit" class="btn btn-link p-0"><i class="ri-arrow-right-line"></i></button>
        </div>
      </form>
    </div>

    <p>Upload file to deobfuscate (.ps1)</p>
    <form id="file-upload-form" method="POST" enctype="multipart/form-data" action="{% url 'file_upload' %}">
      {% csrf_token %}
      <div class="upload-content mb-3 p-3 border border-primary rounded text-center">
        <label class="w-100" id="drop-zone">
          <input type="file" id="upload-file" name="file" hidden />
          <div id="file-view">
            <i class="ri-upload-2-line display-4 text-primary"></i>
            <p id="file-name">Drag and Drop or Click Here to Upload File</p>
          </div>
        </label>
      </div>
      <button type="submit" class="btn upload-button w-100">Upload File</button>
    </form>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
  function showNotification(message, type) {
    var notification = $("#notification");
    notification.text(message);
    notification.removeClass("error success").addClass(type);
    notification.addClass("show");
    setTimeout(function () {
      notification.removeClass("show");
    }, 3000);
  }

  $(document).ready(function () {
    $("#search-form").on("submit", function (e) {
      e.preventDefault();
      $.ajax({
        url: $(this).attr("action"),
        type: "POST",
        data: $(this).serialize(),
        dataType: "json",
        success: function (response) {
          if (response.status === "success") {
            showNotification(response.message, "success");
            window.location.href = "/redirect_result?pdf_url=" + encodeURIComponent(response.pdf_url);
          } else {
            showNotification(response.message, "error");
          }
        },
        error: function () {
          showNotification("An error occurred. Please try again.", "error");
        },
      });
    });

    $("#upload-file").on("change", function () {
      var file = this.files[0];
      $("#file-name").text(file ? file.name : "Drag and Drop or Click Here to Upload File");
    });

    $("#file-upload-form").on("submit", function (e) {
      e.preventDefault();
      var formData = new FormData(this);

      $.ajax({
        url: $(this).attr("action"),
        type: "POST",
        data: formData,
        processData: false,
        contentType: false,
        dataType: "json",
        success: function (response) {
          if (response.status === "success") {
            showNotification(response.message, "success");
            window.location.href = "/redirect_result?pdf_url=" + encodeURIComponent(response.pdf_url);
          } else {
            showNotification(response.message, "error");
          }
        },
        error: function () {
          showNotification("An error occurred. Please try again.", "error");
        },
      });
    });
  });
</script>

</body>
</html> -->
